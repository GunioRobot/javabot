<project name="javabot" default="main">
	
	<property name="build" location="build"/>
	
	<path id="javabot.cp">
		<fileset dir="lib" includes="*.jar"/>
		<pathelement path="${build}"/>
	</path>

	<target name="init">
		<mkdir dir="${build}"/>
	</target>
	
	<target name="main" depends="init">
		<javac destDir="${build}" srcDir="src" classpathref="javabot.cp"
			debug="true"/>
	</target>

	<target name="clean">
		<delete dir="${build}"/>
	</target>
	
	<target name="rebuild" depends="clean, main"/>

	<target name="test" depends="main">
		<junit haltonfailure="true" reloading="false">
			<formatter type="brief" usefile="no"/>
			<classpath refid="javabot.cp"/>
			<batchtest>
				<fileset dir="src">
					<include name="tests/*.java"/>
				</fileset>
			</batchtest>
		</junit>
	</target>
</project>
